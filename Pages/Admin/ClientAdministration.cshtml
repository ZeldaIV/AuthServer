@page 
@model Authserver.Pages.Admin.ClientAdministrationModel
@{
    ViewData["Title"] = "Clients administration";
}

<div class="card w-50 mx-auto my-sm-5">
    <label>@Model.FormResult</label>
    <div class="card-body">
        <h5 class="card-title">Add a new client</h5>
        <form asp-page-handler="CreateClient" method="post">
            <div class="mx-auto">
                <fieldset>
                    <div class="form-group row">
                        <label class="col-sm-5 col-form-label" asp-for="Input.ClientName"></label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" placeholder="Client Name" asp-for="Input.ClientName" autofocus>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-5 col-form-label" asp-for="Input.RedirectUri"></label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" placeholder="Redirect Uri" asp-for="Input.RedirectUri">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-5 col-form-label" asp-for="Input.PostLogoutRedirectUri"></label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" placeholder="Post logout redirect uri" asp-for="Input.PostLogoutRedirectUri">
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-sm-7">
                            <button type="submit" class="btn btn-primary mr-sm-0" name="create" value="create">Create</button>
                        </div>
                    </div>
                </fieldset>
            </div>
        </form>
        @if (Model.FormResult != null)
        {
            <div class="container-fluid">
                <h2>This is your apps secret, it will only be visible once, so store it in a safe place:</h2>
                <h3>@Model.FormResult</h3>
            </div>    
        }
    </div>
</div>

@await Html.PartialAsync("_RegisteredClientsPartial", Model)